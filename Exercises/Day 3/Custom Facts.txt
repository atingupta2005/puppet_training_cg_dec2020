# Custom Facts
Custom facts are written in Ruby and have more advanced features
Allows for programmatic confinement

mkdir -p /etc/puppetlabs/code/modules/facts/lib/facter
vim /etc/puppetlabs/code/modules/facts/lib/facter/windowsedition.rb
Facter.add('windows_edition_custom') do
  confine :osfamily => :windows
  setcode do
	Facter::Core::Execution.execute('ver')
  end
end

vim /etc/puppetlabs/code/modules/facts/lib/facter/hardware_platform.rb
Facter.add('hardware_platform') do
  setcode do
    Facter::Core::Execution.execute('/bin/uname --hardware-platform')
  end
end

vim /etc/puppetlabs/code/modules/facts/lib/facter/connected_users.rb
Facter.add('connected_users') do
  setcode do
    Facter::Core::Execution.execute('/usr/bin/who | wc -l')
  end
end